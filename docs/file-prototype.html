<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Prototypical File | Collaborative Data Science Practices</title>
  <meta name="description" content="Collection of publicly available practices of data science and analysis." />
  <meta name="generator" content="bookdown 0.16 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Prototypical File | Collaborative Data Science Practices" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Collection of publicly available practices of data science and analysis." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Prototypical File | Collaborative Data Science Practices" />
  
  <meta name="twitter:description" content="Collection of publicly available practices of data science and analysis." />
  

<meta name="author" content="Will Beasley" />


<meta name="date" content="2019-11-26" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="architecture.html"/>
<link rel="next" href="repo-prototype.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Collaborative Data Science</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Prerequisites</a></li>
<li class="chapter" data-level="2" data-path="architecture.html"><a href="architecture.html"><i class="fa fa-check"></i><b>2</b> Architecture Principles</a><ul>
<li class="chapter" data-level="2.1" data-path="architecture.html"><a href="architecture.html#encapsulation"><i class="fa fa-check"></i><b>2.1</b> Encapsulation</a></li>
<li class="chapter" data-level="2.2" data-path="architecture.html"><a href="architecture.html#leverage-team-members-strenghts-avoid-weaknesses"><i class="fa fa-check"></i><b>2.2</b> Leverage team member’s strenghts &amp; avoid weaknesses</a></li>
<li class="chapter" data-level="2.3" data-path="architecture.html"><a href="architecture.html#scales"><i class="fa fa-check"></i><b>2.3</b> Scales</a></li>
<li class="chapter" data-level="2.4" data-path="architecture.html"><a href="architecture.html#consistency"><i class="fa fa-check"></i><b>2.4</b> Consistency</a></li>
<li class="chapter" data-level="2.5" data-path="architecture.html"><a href="architecture.html#defensive-style"><i class="fa fa-check"></i><b>2.5</b> Defensive Style</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="file-prototype.html"><a href="file-prototype.html"><i class="fa fa-check"></i><b>3</b> Prototypical File</a><ul>
<li class="chapter" data-level="3.1" data-path="file-prototype.html"><a href="file-prototype.html#clear-memory"><i class="fa fa-check"></i><b>3.1</b> Clear Memory</a></li>
<li class="chapter" data-level="3.2" data-path="file-prototype.html"><a href="file-prototype.html#load-sources"><i class="fa fa-check"></i><b>3.2</b> Load Sources</a></li>
<li class="chapter" data-level="3.3" data-path="file-prototype.html"><a href="file-prototype.html#load-packages"><i class="fa fa-check"></i><b>3.3</b> Load Packages</a></li>
<li class="chapter" data-level="3.4" data-path="file-prototype.html"><a href="file-prototype.html#declare-globals"><i class="fa fa-check"></i><b>3.4</b> Declare Globals</a></li>
<li class="chapter" data-level="3.5" data-path="file-prototype.html"><a href="file-prototype.html#load-data"><i class="fa fa-check"></i><b>3.5</b> Load Data</a></li>
<li class="chapter" data-level="3.6" data-path="file-prototype.html"><a href="file-prototype.html#tweak-data"><i class="fa fa-check"></i><b>3.6</b> Tweak Data</a></li>
<li class="chapter" data-level="3.7" data-path="file-prototype.html"><a href="file-prototype.html#unique-content"><i class="fa fa-check"></i><b>3.7</b> (Unique Content)</a></li>
<li class="chapter" data-level="3.8" data-path="file-prototype.html"><a href="file-prototype.html#verify-values"><i class="fa fa-check"></i><b>3.8</b> Verify Values</a></li>
<li class="chapter" data-level="3.9" data-path="file-prototype.html"><a href="file-prototype.html#specify-output-columns"><i class="fa fa-check"></i><b>3.9</b> Specify Output Columns</a></li>
<li class="chapter" data-level="3.10" data-path="file-prototype.html"><a href="file-prototype.html#save-to-disk-or-database"><i class="fa fa-check"></i><b>3.10</b> Save to Disk or Database</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="repo-prototype.html"><a href="repo-prototype.html"><i class="fa fa-check"></i><b>4</b> Prototypical Repository</a><ul>
<li class="chapter" data-level="4.1" data-path="repo-prototype.html"><a href="repo-prototype.html#repo-root"><i class="fa fa-check"></i><b>4.1</b> Root</a></li>
<li class="chapter" data-level="4.2" data-path="repo-prototype.html"><a href="repo-prototype.html#analysis"><i class="fa fa-check"></i><b>4.2</b> Analysis</a></li>
<li class="chapter" data-level="4.3" data-path="repo-prototype.html"><a href="repo-prototype.html#data-public"><i class="fa fa-check"></i><b>4.3</b> Data Public</a></li>
<li class="chapter" data-level="4.4" data-path="repo-prototype.html"><a href="repo-prototype.html#data-unshared"><i class="fa fa-check"></i><b>4.4</b> Data Unshared</a></li>
<li class="chapter" data-level="4.5" data-path="repo-prototype.html"><a href="repo-prototype.html#documentation"><i class="fa fa-check"></i><b>4.5</b> Documentation</a></li>
<li class="chapter" data-level="4.6" data-path="repo-prototype.html"><a href="repo-prototype.html#manipulation"><i class="fa fa-check"></i><b>4.6</b> Manipulation</a></li>
<li class="chapter" data-level="4.7" data-path="repo-prototype.html"><a href="repo-prototype.html#stitched-output"><i class="fa fa-check"></i><b>4.7</b> Stitched Output</a></li>
<li class="chapter" data-level="4.8" data-path="repo-prototype.html"><a href="repo-prototype.html#utility"><i class="fa fa-check"></i><b>4.8</b> Utility</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data-at-rest.html"><a href="data-at-rest.html"><i class="fa fa-check"></i><b>5</b> Data at Rest</a><ul>
<li class="chapter" data-level="5.1" data-path="data-at-rest.html"><a href="data-at-rest.html#data-states"><i class="fa fa-check"></i><b>5.1</b> Data States</a></li>
<li class="chapter" data-level="5.2" data-path="data-at-rest.html"><a href="data-at-rest.html#data-containers"><i class="fa fa-check"></i><b>5.2</b> Data Containers</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="patterns.html"><a href="patterns.html"><i class="fa fa-check"></i><b>6</b> Patterns</a><ul>
<li class="chapter" data-level="6.1" data-path="patterns.html"><a href="patterns.html#ellis"><i class="fa fa-check"></i><b>6.1</b> Ellis</a><ul>
<li class="chapter" data-level="6.1.1" data-path="patterns.html"><a href="patterns.html#purpose"><i class="fa fa-check"></i><b>6.1.1</b> Purpose</a></li>
<li class="chapter" data-level="6.1.2" data-path="patterns.html"><a href="patterns.html#philosophy"><i class="fa fa-check"></i><b>6.1.2</b> Philosophy</a></li>
<li class="chapter" data-level="6.1.3" data-path="patterns.html"><a href="patterns.html#guidelines"><i class="fa fa-check"></i><b>6.1.3</b> Guidelines</a></li>
<li class="chapter" data-level="6.1.4" data-path="patterns.html"><a href="patterns.html#examples"><i class="fa fa-check"></i><b>6.1.4</b> Examples</a></li>
<li class="chapter" data-level="6.1.5" data-path="patterns.html"><a href="patterns.html#elements"><i class="fa fa-check"></i><b>6.1.5</b> Elements</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="patterns.html"><a href="patterns.html#arch"><i class="fa fa-check"></i><b>6.2</b> Arch</a></li>
<li class="chapter" data-level="6.3" data-path="patterns.html"><a href="patterns.html#ferry"><i class="fa fa-check"></i><b>6.3</b> Ferry</a></li>
<li class="chapter" data-level="6.4" data-path="patterns.html"><a href="patterns.html#scribe"><i class="fa fa-check"></i><b>6.4</b> Scribe</a></li>
<li class="chapter" data-level="6.5" data-path="patterns.html"><a href="patterns.html#analysis-1"><i class="fa fa-check"></i><b>6.5</b> Analysis</a></li>
<li class="chapter" data-level="6.6" data-path="patterns.html"><a href="patterns.html#presentation--static"><i class="fa fa-check"></i><b>6.6</b> Presentation -Static</a></li>
<li class="chapter" data-level="6.7" data-path="patterns.html"><a href="patterns.html#presentation--interactive"><i class="fa fa-check"></i><b>6.7</b> Presentation -Interactive</a></li>
<li class="chapter" data-level="6.8" data-path="patterns.html"><a href="patterns.html#metadata"><i class="fa fa-check"></i><b>6.8</b> Metadata</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="security.html"><a href="security.html"><i class="fa fa-check"></i><b>7</b> Security &amp; Private Data</a><ul>
<li class="chapter" data-level="7.1" data-path="security.html"><a href="security.html#file-level-permissions"><i class="fa fa-check"></i><b>7.1</b> File-level permissions</a></li>
<li class="chapter" data-level="7.2" data-path="security.html"><a href="security.html#database-permissions"><i class="fa fa-check"></i><b>7.2</b> Database permissions</a></li>
<li class="chapter" data-level="7.3" data-path="security.html"><a href="security.html#public-private-repositories"><i class="fa fa-check"></i><b>7.3</b> Public &amp; Private Repositories</a><ul>
<li class="chapter" data-level="7.3.1" data-path="security.html"><a href="security.html#scrubbing-github-history"><i class="fa fa-check"></i><b>7.3.1</b> Scrubbing GitHub history</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="automation.html"><a href="automation.html"><i class="fa fa-check"></i><b>8</b> Automation</a><ul>
<li class="chapter" data-level="8.1" data-path="automation.html"><a href="automation.html#flow-file-in-r"><i class="fa fa-check"></i><b>8.1</b> Flow File in R</a></li>
<li class="chapter" data-level="8.2" data-path="automation.html"><a href="automation.html#makefile"><i class="fa fa-check"></i><b>8.2</b> Makefile</a></li>
<li class="chapter" data-level="8.3" data-path="automation.html"><a href="automation.html#ssis"><i class="fa fa-check"></i><b>8.3</b> SSIS</a></li>
<li class="chapter" data-level="8.4" data-path="automation.html"><a href="automation.html#cron-jobs-task-scheduler"><i class="fa fa-check"></i><b>8.4</b> cron Jobs &amp; Task Scheduler</a></li>
<li class="chapter" data-level="8.5" data-path="automation.html"><a href="automation.html#sink-log-files"><i class="fa fa-check"></i><b>8.5</b> Sink Log Files</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="scaling-up.html"><a href="scaling-up.html"><i class="fa fa-check"></i><b>9</b> Scaling Up</a><ul>
<li class="chapter" data-level="9.1" data-path="scaling-up.html"><a href="scaling-up.html#data-storage"><i class="fa fa-check"></i><b>9.1</b> Data Storage</a></li>
<li class="chapter" data-level="9.2" data-path="scaling-up.html"><a href="scaling-up.html#data-processing"><i class="fa fa-check"></i><b>9.2</b> Data Processing</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="collaboration.html"><a href="collaboration.html"><i class="fa fa-check"></i><b>10</b> Parallel Collaboration</a><ul>
<li class="chapter" data-level="10.1" data-path="collaboration.html"><a href="collaboration.html#social-contract"><i class="fa fa-check"></i><b>10.1</b> Social Contract</a></li>
<li class="chapter" data-level="10.2" data-path="collaboration.html"><a href="collaboration.html#code-reviews"><i class="fa fa-check"></i><b>10.2</b> Code Reviews</a></li>
<li class="chapter" data-level="10.3" data-path="collaboration.html"><a href="collaboration.html#remote"><i class="fa fa-check"></i><b>10.3</b> Remote</a></li>
<li class="chapter" data-level="10.4" data-path="collaboration.html"><a href="collaboration.html#loose-notes"><i class="fa fa-check"></i><b>10.4</b> Loose Notes</a><ul>
<li class="chapter" data-level="10.4.1" data-path="collaboration.html"><a href="collaboration.html#github"><i class="fa fa-check"></i><b>10.4.1</b> GitHub</a></li>
<li class="chapter" data-level="10.4.2" data-path="collaboration.html"><a href="collaboration.html#common-code"><i class="fa fa-check"></i><b>10.4.2</b> Common Code</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="document.html"><a href="document.html"><i class="fa fa-check"></i><b>11</b> Documentation</a><ul>
<li class="chapter" data-level="11.1" data-path="document.html"><a href="document.html#team-wide"><i class="fa fa-check"></i><b>11.1</b> Team-wide</a></li>
<li class="chapter" data-level="11.2" data-path="document.html"><a href="document.html#project-specific"><i class="fa fa-check"></i><b>11.2</b> Project-specific</a></li>
<li class="chapter" data-level="11.3" data-path="document.html"><a href="document.html#dataset-origin-structure"><i class="fa fa-check"></i><b>11.3</b> Dataset Origin &amp; Structure</a></li>
<li class="chapter" data-level="11.4" data-path="document.html"><a href="document.html#issues-tasks"><i class="fa fa-check"></i><b>11.4</b> Issues &amp; Tasks</a></li>
<li class="chapter" data-level="11.5" data-path="document.html"><a href="document.html#flow-diagrams"><i class="fa fa-check"></i><b>11.5</b> Flow Diagrams</a></li>
<li class="chapter" data-level="11.6" data-path="document.html"><a href="document.html#setting-up-new-machine"><i class="fa fa-check"></i><b>11.6</b> Setting up new machine</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="style-guide.html"><a href="style-guide.html"><i class="fa fa-check"></i><b>12</b> Style Guide</a><ul>
<li class="chapter" data-level="12.1" data-path="style-guide.html"><a href="style-guide.html#ggplot2"><i class="fa fa-check"></i><b>12.1</b> ggplot2</a><ul>
<li class="chapter" data-level="12.1.1" data-path="style-guide.html"><a href="style-guide.html#order-of-commands"><i class="fa fa-check"></i><b>12.1.1</b> Order of commands</a></li>
<li class="chapter" data-level="12.1.2" data-path="style-guide.html"><a href="style-guide.html#gotchas"><i class="fa fa-check"></i><b>12.1.2</b> Gotchas</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="publication.html"><a href="publication.html"><i class="fa fa-check"></i><b>13</b> Publishing Results</a><ul>
<li class="chapter" data-level="13.1" data-path="publication.html"><a href="publication.html#to-other-analysts"><i class="fa fa-check"></i><b>13.1</b> To Other Analysts</a></li>
<li class="chapter" data-level="13.2" data-path="publication.html"><a href="publication.html#to-researchers-content-experts"><i class="fa fa-check"></i><b>13.2</b> To Researchers &amp; Content Experts</a></li>
<li class="chapter" data-level="13.3" data-path="publication.html"><a href="publication.html#to-technical-phobic-audiences"><i class="fa fa-check"></i><b>13.3</b> To Technical-Phobic Audiences</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="testing-and-validation.html"><a href="testing-and-validation.html"><i class="fa fa-check"></i><b>14</b> Testing, Validation, &amp; Defensive Programming</a><ul>
<li class="chapter" data-level="14.1" data-path="testing-and-validation.html"><a href="testing-and-validation.html#testing-functions"><i class="fa fa-check"></i><b>14.1</b> Testing Functions</a></li>
<li class="chapter" data-level="14.2" data-path="testing-and-validation.html"><a href="testing-and-validation.html#defensive-programming"><i class="fa fa-check"></i><b>14.2</b> Defensive Programming</a></li>
<li class="chapter" data-level="14.3" data-path="testing-and-validation.html"><a href="testing-and-validation.html#validator"><i class="fa fa-check"></i><b>14.3</b> Validator</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="troubleshooting.html"><a href="troubleshooting.html"><i class="fa fa-check"></i><b>15</b> Troubleshooting and Debugging</a><ul>
<li class="chapter" data-level="15.1" data-path="troubleshooting.html"><a href="troubleshooting.html#finding-help"><i class="fa fa-check"></i><b>15.1</b> Finding Help</a></li>
<li class="chapter" data-level="15.2" data-path="troubleshooting.html"><a href="troubleshooting.html#debugging"><i class="fa fa-check"></i><b>15.2</b> Debugging</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="workstation.html"><a href="workstation.html"><i class="fa fa-check"></i><b>16</b> Workstation</a><ul>
<li class="chapter" data-level="16.1" data-path="workstation.html"><a href="workstation.html#installation-required"><i class="fa fa-check"></i><b>16.1</b> Required Installation</a><ul>
<li class="chapter" data-level="16.1.1" data-path="workstation.html"><a href="workstation.html#r"><i class="fa fa-check"></i><b>16.1.1</b> R</a></li>
<li class="chapter" data-level="16.1.2" data-path="workstation.html"><a href="workstation.html#rstudio"><i class="fa fa-check"></i><b>16.1.2</b> RStudio</a></li>
<li class="chapter" data-level="16.1.3" data-path="workstation.html"><a href="workstation.html#installing-r-packages"><i class="fa fa-check"></i><b>16.1.3</b> Installing R Packages</a></li>
<li class="chapter" data-level="16.1.4" data-path="workstation.html"><a href="workstation.html#updating-r-packages"><i class="fa fa-check"></i><b>16.1.4</b> Updating R Packages</a></li>
<li class="chapter" data-level="16.1.5" data-path="workstation.html"><a href="workstation.html#github-1"><i class="fa fa-check"></i><b>16.1.5</b> GitHub</a></li>
<li class="chapter" data-level="16.1.6" data-path="workstation.html"><a href="workstation.html#github-for-windows-client"><i class="fa fa-check"></i><b>16.1.6</b> GitHub for Windows Client</a></li>
</ul></li>
<li class="chapter" data-level="16.2" data-path="workstation.html"><a href="workstation.html#installation-recommended"><i class="fa fa-check"></i><b>16.2</b> Recommended Installation</a></li>
<li class="chapter" data-level="16.3" data-path="workstation.html"><a href="workstation.html#installation-optional"><i class="fa fa-check"></i><b>16.3</b> Optional Installation</a></li>
<li class="chapter" data-level="16.4" data-path="workstation.html"><a href="workstation.html#installation-ubuntu"><i class="fa fa-check"></i><b>16.4</b> Ubuntu Installation</a></li>
<li class="chapter" data-level="16.5" data-path="workstation.html"><a href="workstation.html#asset-locations"><i class="fa fa-check"></i><b>16.5</b> Asset Locations</a></li>
<li class="chapter" data-level="16.6" data-path="workstation.html"><a href="workstation.html#installation-troubleshooting"><i class="fa fa-check"></i><b>16.6</b> Installation Troubleshooting</a></li>
<li class="chapter" data-level="16.7" data-path="workstation.html"><a href="workstation.html#retired-tools"><i class="fa fa-check"></i><b>16.7</b> Retired Tools</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="tools.html"><a href="tools.html"><i class="fa fa-check"></i><b>17</b> Considerations when Selecting Tools</a><ul>
<li class="chapter" data-level="17.1" data-path="tools.html"><a href="tools.html#general"><i class="fa fa-check"></i><b>17.1</b> General</a><ul>
<li class="chapter" data-level="17.1.1" data-path="tools.html"><a href="tools.html#the-components-goal"><i class="fa fa-check"></i><b>17.1.1</b> The Component’s Goal</a></li>
<li class="chapter" data-level="17.1.2" data-path="tools.html"><a href="tools.html#current-skillset-of-team"><i class="fa fa-check"></i><b>17.1.2</b> Current Skillset of Team</a></li>
<li class="chapter" data-level="17.1.3" data-path="tools.html"><a href="tools.html#desired-future-skillset-of-team"><i class="fa fa-check"></i><b>17.1.3</b> Desired Future Skillset of Team</a></li>
<li class="chapter" data-level="17.1.4" data-path="tools.html"><a href="tools.html#skillset-of-audience"><i class="fa fa-check"></i><b>17.1.4</b> Skillset of Audience</a></li>
</ul></li>
<li class="chapter" data-level="17.2" data-path="tools.html"><a href="tools.html#languages"><i class="fa fa-check"></i><b>17.2</b> Languages</a></li>
<li class="chapter" data-level="17.3" data-path="tools.html"><a href="tools.html#r-packages"><i class="fa fa-check"></i><b>17.3</b> R Packages</a></li>
<li class="chapter" data-level="17.4" data-path="tools.html"><a href="tools.html#database"><i class="fa fa-check"></i><b>17.4</b> Database</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="team.html"><a href="team.html"><i class="fa fa-check"></i><b>18</b> Growing a Team</a><ul>
<li class="chapter" data-level="18.1" data-path="team.html"><a href="team.html#recruiting"><i class="fa fa-check"></i><b>18.1</b> Recruiting</a></li>
<li class="chapter" data-level="18.2" data-path="team.html"><a href="team.html#training-to-data-science"><i class="fa fa-check"></i><b>18.2</b> Training to Data Science</a></li>
<li class="chapter" data-level="18.3" data-path="team.html"><a href="team.html#bridges-outside-the-team"><i class="fa fa-check"></i><b>18.3</b> Bridges Outside the Team</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="git-github.html"><a href="git-github.html"><i class="fa fa-check"></i><b>A</b> Git &amp; GitHub</a><ul>
<li class="chapter" data-level="A.1" data-path="git-github.html"><a href="git-github.html#for-code-development"><i class="fa fa-check"></i><b>A.1</b> for Code Development</a></li>
<li class="chapter" data-level="A.2" data-path="git-github.html"><a href="git-github.html#for-collaboration"><i class="fa fa-check"></i><b>A.2</b> for Collaboration</a></li>
</ul></li>
<li class="chapter" data-level="B" data-path="presentations.html"><a href="presentations.html"><i class="fa fa-check"></i><b>B</b> Presentations</a><ul>
<li class="chapter" data-level="B.1" data-path="presentations.html"><a href="presentations.html#cdw"><i class="fa fa-check"></i><b>B.1</b> CDW</a></li>
<li class="chapter" data-level="B.2" data-path="presentations.html"><a href="presentations.html#redcap"><i class="fa fa-check"></i><b>B.2</b> REDCap</a></li>
<li class="chapter" data-level="B.3" data-path="presentations.html"><a href="presentations.html#reproducible-research-visualization"><i class="fa fa-check"></i><b>B.3</b> Reproducible Research &amp; Visualization</a></li>
<li class="chapter" data-level="B.4" data-path="presentations.html"><a href="presentations.html#data-management"><i class="fa fa-check"></i><b>B.4</b> Data Management</a></li>
<li class="chapter" data-level="B.5" data-path="presentations.html"><a href="presentations.html#github-2"><i class="fa fa-check"></i><b>B.5</b> GitHub</a></li>
<li class="chapter" data-level="B.6" data-path="presentations.html"><a href="presentations.html#software"><i class="fa fa-check"></i><b>B.6</b> Software</a></li>
<li class="chapter" data-level="B.7" data-path="presentations.html"><a href="presentations.html#architectures"><i class="fa fa-check"></i><b>B.7</b> Architectures</a></li>
<li class="chapter" data-level="B.8" data-path="presentations.html"><a href="presentations.html#components"><i class="fa fa-check"></i><b>B.8</b> Components</a></li>
</ul></li>
<li class="chapter" data-level="C" data-path="scratch-pad.html"><a href="scratch-pad.html"><i class="fa fa-check"></i><b>C</b> Scratch Pad of Loose Ideas</a><ul>
<li class="chapter" data-level="C.1" data-path="scratch-pad.html"><a href="scratch-pad.html#chapters-sections-to-form"><i class="fa fa-check"></i><b>C.1</b> Chapters &amp; Sections to Form</a></li>
</ul></li>
<li class="chapter" data-level="D" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>D</b> Introduction</a></li>
<li class="chapter" data-level="E" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><b>E</b> References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Collaborative Data Science Practices</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="file-prototype" class="section level1">
<h1><span class="header-section-number">Chapter 3</span> Prototypical File</h1>
<p>As stated before, in <a href="#consistency-files">Consistency across Files</a>, using a consistent file structure can (a) improve the quality of the code because the structure has been proven over time to facilitate good practices and (b) allow your intentions to be more clear to teammates because they are familiar with the order and intentions of the chunks.</p>
<p>We use the term “chunk” for a section of code because it corresponds with knitr terminology <span class="citation">(Xie <a href="#ref-xie2015">2015</a>)</span>, and in many analysis files (as opposed to manipulation files), the chunk of our R file connects to a knitr Rmd file.</p>
<div id="clear-memory" class="section level2">
<h2><span class="header-section-number">3.1</span> Clear Memory</h2>
<p>Before the initial chunk many of our files clear the memory of variables from previous run. This is important when developig and debugging because it prevents previous runs from contaminating subsequent runs. However it has little effect during production; we’ll look at manipulation files separately from analysis files.</p>
<p>Manipulation R files are <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/source.html"><code>source</code></a>d with the argument <code>local=new.env()</code>. The file is executed in a fresh environment, so there are no variables to clear. Analysis R files are typically called from an Rmd file’s <code>knitr::read_chunk()</code>, and code positioned above the first chunk is not called by knitr.<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a></p>
<p>However typically do not clear the memory in R files that are <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/source.html"><code>source</code></a>d in the same environment as the caller, as it will interfere with the caller’s variables.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw">rm</span>(<span class="dt">list =</span> <span class="kw">ls</span>(<span class="dt">all.names =</span> <span class="ot">TRUE</span>))</a></code></pre></div>
</div>
<div id="load-sources" class="section level2">
<h2><span class="header-section-number">3.2</span> Load Sources</h2>
<p>In the first true chunk, <a href="https://stat.ethz.ch/R-manual/R-devel/library/base/html/source.html"><code>source</code></a> any R files containing global variables and functions that the current file requires. For instance, when a team of statisticians is producing a large report containing many analysis files, we define many of the graphical elements in a single file. This sourced file defines common color palettes and graphical functions so the cosmetics are more uniform across analyses.</p>
<p>We prefer not to have <code>source</code>d files perform any real action, such as importing data or manipulating a file. One reason is because it is difficult to be consistent about the environmental variables when the sourced file’s functions are run. A second reason is that it more cognitively difficult to understand how the files are connected.</p>
<p>When the sourced file contains only function definitions, these operations can be called at any time in the current file with much tighter control of which variables are modfied. A bonus of the discipline of defining functions (instead of executing functions) is that the operations are typically more robust and generalizable.</p>
<p>Keep the chunk even if no files are sourced. An empty chunk is instructive to readers trying to determine if any files are sourced. This applies recommendation applies to all the chunks discussed in this chapter. As always, your team should agree on its own set of standards.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="co"># ---- load-sources ------------------------------------------------------------</span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2">base<span class="op">::</span><span class="kw">source</span>(<span class="dt">file=</span><span class="st">&quot;./analysis/common/display-1.R&quot;</span>)      <span class="co"># Load common graphing functions.</span></a></code></pre></div>
</div>
<div id="load-packages" class="section level2">
<h2><span class="header-section-number">3.3</span> Load Packages</h2>
<p>The ‘load-packages’ chunk declares required packages near the file’s beginning for three reasons. First, a reader scanning the file can quickly determine its dependencies when located in a single chunk. Second, if your machine is lacking a required package, it is best to know early<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a>. Third, this style mimics a requirement of other languages (such as declaring headers at the top of a C++ file) and follows the <a href="https://style.tidyverse.org/files.html#internal-structure">tidyverse style guide</a>.</p>
<p>As discussed in the previous <a href="#qualify-functions">qualify all functions</a> section, we recommend that functions are qualified with their package (<em>e.g.</em>, <code>foo::bar()</code> instead of merely <code>bar()</code>). Consequently, the ‘load-packages’ chunk calls <code>requireNamespace()</code> more frequently than <code>library()</code>. <code>requireNamespace()</code> verifies the package is available on the local machine, but does not load it into memory; <code>library()</code> verifies the package is available, and then loads it.</p>
<p><code>requireNamespace()</code> is not used in several scenarios.</p>
<ol style="list-style-type: decimal">
<li>Core packages (<em>e.g.</em>, ‘base’ and ‘stats’) are loaded by R in most default installations. We avoid unnecessary calls like <code>library(stats)</code> because they distract from more important features.</li>
<li>Obvious dependencies are not called by <code>reqiureNamespace()</code> or <code>library()</code> for similar reasons, especially if they are not called directly. For example ‘tidyselect’ is not listed when ‘tidyr’ is listed.</li>
<li>The “pipe” function (declared in the <code>magrittr' package , *i.e.*,</code>%&gt;%<code>) is attached with</code>import::from(magrittr, “%&gt;%”)`. This frequently-used function called be called throughout the execution without qualification.</li>
<li>Compared to manipulation files, our analysis files tend to use many functions in a few concentrated packages so conflicting function names are less common. Typical packages used in analysis are ‘ggplot2’ and ‘lme4’.</li>
</ol>
<p>The <code>source</code>d files above may load their own packages (by calling <code>library()</code>). It is important that the <code>library()</code> calls in this file follow the ‘load-sources’ chunk so that identically-named functions (in different packages) are called with the correct precedent. Otherwise identically-named functions will conflict in the namespace with hard-to-predict results.</p>
<p>Read <a href="http://r-pkgs.had.co.nz/namespace.html#search-path">R Packages</a> for more about <code>library()</code>, <code>requireNamespace()</code>, and their siblings, as well as the larger concepts such as attaching functions into the search path.</p>
<p>Here are packages found in most of our manipulation files. Notice the lesser-known packages have a quick explanation; this helps maintainers decide if the declaration is still necessary. Also notice the packages distributed outside of CRAN (<em>e.g.</em>, GitHub) have a quick commented line to help the user install or update the package.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="co"># ---- load-packages -----------------------------------------------------------</span></a>
<a class="sourceLine" id="cb4-2" data-line-number="2">import<span class="op">::</span><span class="kw">from</span>(magrittr, <span class="st">&quot;%&gt;%&quot;</span> )</a>
<a class="sourceLine" id="cb4-3" data-line-number="3"></a>
<a class="sourceLine" id="cb4-4" data-line-number="4"><span class="kw">requireNamespace</span>(<span class="st">&quot;readr&quot;</span>     )</a>
<a class="sourceLine" id="cb4-5" data-line-number="5"><span class="kw">requireNamespace</span>(<span class="st">&quot;tidyr&quot;</span>     )</a>
<a class="sourceLine" id="cb4-6" data-line-number="6"><span class="kw">requireNamespace</span>(<span class="st">&quot;dplyr&quot;</span>     ) </a>
<a class="sourceLine" id="cb4-7" data-line-number="7"><span class="kw">requireNamespace</span>(<span class="st">&quot;config&quot;</span>    ) </a>
<a class="sourceLine" id="cb4-8" data-line-number="8"><span class="kw">requireNamespace</span>(<span class="st">&quot;checkmate&quot;</span> ) <span class="co"># Asserts expected conditions </span></a>
<a class="sourceLine" id="cb4-9" data-line-number="9"><span class="kw">requireNamespace</span>(<span class="st">&quot;OuhscMunge&quot;</span>) <span class="co"># remotes::install_github(repo=&quot;OuhscBbmc/OuhscMunge&quot;)</span></a></code></pre></div>
</div>
<div id="declare-globals" class="section level2">
<h2><span class="header-section-number">3.4</span> Declare Globals</h2>
<p>When values are repeatedly used within a file, consider dedicating a variable so it’s defined and set only once. This is also a good place for variables that are used only once, but whose value are central to the file’s mission. Typical variables in our ‘declare-globals’ chunk include data file paths, data file variables, color palettes, and values in the <em>config</em> file.</p>
<p>The <a href="repo-prototype.html#repo-root">config file</a> can coordinate a static variable across multiple files. Centrally</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="co"># ---- declare-globals ---------------------------------------------------------</span></a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="co"># Constant values that won&#39;t change.</span></a>
<a class="sourceLine" id="cb5-3" data-line-number="3">config                         &lt;-<span class="st"> </span>config<span class="op">::</span><span class="kw">get</span>()</a>
<a class="sourceLine" id="cb5-4" data-line-number="4">path_db                        &lt;-<span class="st"> </span>config<span class="op">$</span>path_database</a>
<a class="sourceLine" id="cb5-5" data-line-number="5"></a>
<a class="sourceLine" id="cb5-6" data-line-number="6"><span class="co"># Execute to specify the column types.  It might require some manual adjustment (eg doubles to integers).</span></a>
<a class="sourceLine" id="cb5-7" data-line-number="7"><span class="co">#   OuhscMunge::readr_spec_aligned(config$path_subject_1_raw)</span></a>
<a class="sourceLine" id="cb5-8" data-line-number="8">col_types &lt;-<span class="st"> </span>readr<span class="op">::</span><span class="kw">cols_only</span>(</a>
<a class="sourceLine" id="cb5-9" data-line-number="9">  <span class="dt">subject_id          =</span> readr<span class="op">::</span><span class="kw">col_integer</span>(),</a>
<a class="sourceLine" id="cb5-10" data-line-number="10">  <span class="dt">county_id           =</span> readr<span class="op">::</span><span class="kw">col_integer</span>(),</a>
<a class="sourceLine" id="cb5-11" data-line-number="11">  <span class="dt">gender_id           =</span> readr<span class="op">::</span><span class="kw">col_double</span>(),</a>
<a class="sourceLine" id="cb5-12" data-line-number="12">  <span class="dt">race                =</span> readr<span class="op">::</span><span class="kw">col_character</span>(),</a>
<a class="sourceLine" id="cb5-13" data-line-number="13">  <span class="dt">ethnicity           =</span> readr<span class="op">::</span><span class="kw">col_character</span>()</a>
<a class="sourceLine" id="cb5-14" data-line-number="14">)</a></code></pre></div>
</div>
<div id="load-data" class="section level2">
<h2><span class="header-section-number">3.5</span> Load Data</h2>
</div>
<div id="tweak-data" class="section level2">
<h2><span class="header-section-number">3.6</span> Tweak Data</h2>
</div>
<div id="unique-content" class="section level2">
<h2><span class="header-section-number">3.7</span> (Unique Content)</h2>
</div>
<div id="verify-values" class="section level2">
<h2><span class="header-section-number">3.8</span> Verify Values</h2>
</div>
<div id="specify-output-columns" class="section level2">
<h2><span class="header-section-number">3.9</span> Specify Output Columns</h2>
</div>
<div id="save-to-disk-or-database" class="section level2">
<h2><span class="header-section-number">3.10</span> Save to Disk or Database</h2>

</div>
</div>
<h3><span class="header-section-number">E</span> References</h3>
<div id="refs" class="references">
<div id="ref-xie2015">
<p>Xie, Yihui. 2015. <em>Dynamic Documents with R and Knitr</em>. 2nd ed. Boca Raton, Florida: Chapman; Hall/CRC. <a href="http://yihui.name/knitr/">http://yihui.name/knitr/</a>.</p>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="1">
<li id="fn1"><p>Read more about knitr’s <a href="https://yihui.name/knitr/demo/externalization/">code externalization</a><a href="file-prototype.html#fnref1" class="footnote-back">↩</a></p></li>
<li id="fn2"><p>The error message “Error in library(foo) : there is no package called ‘foo’” is easier to understand than “Error in bar() : could not find function ‘bar’” thrown somewhere in the middle of the file; this check can also illuminate conflicts arising when two packages have a <code>bar()</code> function. See McConnell 2004 Section qqq for more about the ‘fail early’ principle.<a href="file-prototype.html#fnref2" class="footnote-back">↩</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="architecture.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="repo-prototype.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/ouhscbbmc/data-science-practices-1/edit/master/ch-file-prototype.md",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["data-science-practices-1.pdf", "data-science-practices-1.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
